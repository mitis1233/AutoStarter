<ui:FluentWindow x:Class="AutoStarter.ThemedDialogWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 mc:Ignorable="d"
                 WindowStartupLocation="CenterOwner"
                 WindowBackdropType="Acrylic"
                 Background="#99000033"
                 Width="380"
                 Height="220"
                 ResizeMode="NoResize"
                 ShowInTaskbar="False"
                 ExtendsContentIntoTitleBar="True"
                 d:DesignHeight="220"
                 d:DesignWidth="380"
                 Loaded="DialogWindow_Loaded">
    <ui:FluentWindow.Resources>
        <Style x:Key="DialogButtonStyle" TargetType="{x:Type ui:Button}">
            <Setter Property="Height" Value="42" />
            <Setter Property="MinWidth" Value="150" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="Background" Value="#FF5A8CFF" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="#665A8CFF" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ui:Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{TemplateBinding CornerRadius}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF6B9DFF" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF3F75F3" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="DialogSecondaryButtonStyle" TargetType="{x:Type ui:Button}" BasedOn="{StaticResource DialogButtonStyle}">
            <Setter Property="Background" Value="#1AFFFFFF" />
            <Setter Property="BorderBrush" Value="#40FFFFFF" />
            <Setter Property="Foreground" Value="White" />
        </Style>
    </ui:FluentWindow.Resources>

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <ui:TitleBar Grid.Row="0"
                     Title="{Binding Title, RelativeSource={RelativeSource AncestorType=ui:FluentWindow}}"
                     ShowMinimize="False"
                     ShowMaximize="False"
                     ShowClose="True" />

        <Border Grid.Row="1"
                Margin="16,12,16,0"
                Padding="12"
                CornerRadius="10"
                Background="#1FFFFFFF"
                BorderBrush="#40FFFFFF"
                BorderThickness="1">
            <TextBlock x:Name="MessageTextBlock"
                       TextWrapping="Wrap"
                       Foreground="White"
                       FontSize="16"
                       LineHeight="24" />
        </Border>

        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="16,18,16,12"
                    Panel.ZIndex="1">
            <ui:Button x:Name="SecondaryButton"
                       Style="{StaticResource DialogSecondaryButtonStyle}"
                       Margin="0,0,12,0"
                       Click="SecondaryButton_Click"
                       Visibility="Collapsed" />
            <ui:Button x:Name="PrimaryButton"
                       Style="{StaticResource DialogButtonStyle}"
                       Click="PrimaryButton_Click" />
        </StackPanel>
    </Grid>
</ui:FluentWindow>
